define([],function(){var e=function(e){var t=e.getAttribute("data-courseid"),a="true"===e.getAttribute("aria-expanded"),r=document.querySelectorAll("tr.tm-child");r.forEach(function(e){e.getAttribute("data-parent")===t&&(e.style.display=a?"none":"table-row")}),e.setAttribute("aria-expanded",a?"false":"true");var n=e.querySelector("img, i");if(n){var d=e.getAttribute("data-icon-collapsed"),i=e.getAttribute("data-icon-expanded");if("img"===n.tagName.toLowerCase()){if(d&&i)return void n.setAttribute("src",a?d:i)}else if(n.classList){var o=e.getAttribute("data-icon-class-collapsed"),l=e.getAttribute("data-icon-class-expanded");o&&l&&(n.classList.remove(a?l:o),n.classList.add(a?o:l))}}var c=e.getAttribute("data-title-expand")||"",s=e.getAttribute("data-title-collapse")||"";e.setAttribute("title",a?c:s)};return{init:function(){document.addEventListener("click",function(t){var a=t.target.closest("a.tm-toggle");if(a)return t.preventDefault(),void e(a);var r=t.target.closest("a.tm-confirm");if(!r)return;var n=r.getAttribute("data-confirm")||"";n&&!window.confirm(n)&&t.preventDefault()})}}});
